<div class="breadcrumb_with_back_option ">
    <div class="breadcrumb ms-3 mb-0">
        <a routerLink="/SetCombinedContinuous"> Combined and Continuous Criteria </a> <span class="ms-1 me-1">/</span>
        Add Combined & Continuous Criteria
    </div>

</div>

<div class="content-wrapper">


    <div class="card">
        <form action="" [formGroup]="form">
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-lg-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Shift </mat-label>
                            <mat-select name="classes" (selectionChange)="getClassList()" formControlName="shift">
                                <input matInput placeholder="Search Shift" 
                                    (input)="applyShiftFilter($event)" class="search-mat-option">
                                <mat-option *ngFor="let item of filteredShiftList" [value]="item.sftid">
                                    {{item.shift}}
                                </mat-option>
                                <mat-option *ngIf="filteredShiftList.length === 0">No Data found</mat-option>

                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Classes <span class="text-danger">*</span></mat-label>
                            <mat-select [formControl]="classlist" multiple>
                                <mat-select-trigger>
                                    {{classlist.value?.[0] || ''}}
                                    <span *ngIf="(classlist.value?.length || 0) > 1"
                                        class="example-additional-selection">
                                        (+{{(classlist.value?.length || 0) - 1}} {{classlist.value?.length === 2 ?
                                        'other' :
                                        'others'}})
                                    </span>
                                </mat-select-trigger>
                               
                                <mat-optgroup>
                                    <mat-form-field style="width:100%;">
                                        <input #search autocomplete="off" placeholder="Search" aria-label="Search"
                                            matInput [formControl]="searchTextboxControl"  (keyup)="filterOptions($event)">
                                        <button [disableRipple]="true" *ngIf="search.value" matSuffix mat-icon-button
                                            aria-label="Clear" (click)="clearSearch($event)">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                    </mat-form-field>
                                </mat-optgroup>
                                <mat-optgroup *ngIf="(filteredOptions | async)?.length == 0">
                                    <div>No results found!</div>
                                </mat-optgroup>
                                <mat-option (onSelectionChange)="selectionChange($event)"
                                    *ngFor="let option of filteredOptions | async" [value]="option">
                                    {{option.class}}
                                </mat-option>
                            </mat-select>

                          
                        </mat-form-field>

                    </div>
                    <div class="col-lg-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Class - Subject - Staff <span class="text-danger">*</span></mat-label>
                            <mat-select [formControl]="toppings" multiple>
                                <mat-select-trigger>
                                    {{toppings.value?.[0] || ''}}
                                    <span *ngIf="(toppings.value?.length || 0) > 1"
                                        class="example-additional-selection">
                                        (+{{(toppings.value?.length || 0) - 1}} {{toppings.value?.length === 2 ? 'other'
                                        :
                                        'others'}})
                                    </span>
                                </mat-select-trigger>
                                <mat-option *ngFor="let topping of toppingList"
                                    [value]="topping">{{topping}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                    </div>

                </div>

                <div class="overflow-auto">
                    <table class="table custum_table">
                        <thead>
                            <tr>
                                <th>Days/ Periods </th>
                                <th>1</th>
                                <th>2</th>
                                <th>3</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    Day 1
                                </td>
                                <td>UKG AA-sub1-BKMS0100</td>
                                <td> </td>
                                <td>UKG AA-sub2-BKMS0107</td>

                            </tr>
                            <tr>
                                <td>
                                    Day 2
                                </td>
                                <td>UKG AA-sub1-BKMS0100</td>
                                <td> </td>
                                <td>UKG AA-sub2-BKMS0107</td>

                            </tr>
                            <tr>
                                <td>
                                    Day 3
                                </td>
                                <td>UKG AA-sub1-BKMS0100</td>
                                <td> </td>
                                <td>UKG AA-sub2-BKMS0107</td>

                            </tr>
                            <tr>
                                <td>
                                    Day 4
                                </td>
                                <td class="text-success">R</td>
                                <td> </td>
                                <td>UKG AA-sub2-BKMS0107</td>

                            </tr>
                            <tr>
                                <td>
                                    Day 5
                                </td>
                                <td>UKG AA-sub1-BKMS0100</td>
                                <td> </td>
                                <td class="text-success">R</td>

                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>

            <div class="card-footer">
                <div class="btns text-end">
                    <button class="btn btn-primary ">Save</button>

                    <button class="btn btn-secondary ms-2" routerLink="/SetCombinedContinuous">Cancel</button>

                </div>
            </div>
        </form>
    </div>
</div>